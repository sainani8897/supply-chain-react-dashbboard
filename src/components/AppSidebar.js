import React from "react";
import { useSelector, useDispatch } from "react-redux";

import {
  CSidebar,
  CSidebarBrand,
  CSidebarNav,
  CSidebarToggler,
} from "@coreui/react";
import CIcon from "@coreui/icons-react";

import { AppSidebarNav } from "./AppSidebarNav";

import { logoNegative } from "src/assets/brand/logo-negative";
import { sygnet } from "src/assets/brand/sygnet";

import SimpleBar from "simplebar-react";
import "simplebar/dist/simplebar.min.css";

// sidebar nav config
import navigation from "../_nav";

//New Sidebar nav Config
import navigation_new from "../new_nav";

const AppSidebar = () => {
  const dispatch = useDispatch();
  const unfoldable = useSelector((state) => state.sidebarUnfoldable);
  const sidebarShow = useSelector((state) => state.sidebarShow);

  return (
    <CSidebar
      position="fixed"
      unfoldable={unfoldable}
      visible={sidebarShow}
      onVisibleChange={(visible) => {
        dispatch({ type: "set", sidebarShow: visible });
      }}
    >
      <CSidebarBrand className="d-none d-md-flex" to="/">
        <svg
          width="382"
          height="75"
          viewBox="0 0 382 75"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <rect
            width="382"
            height="75"
            rx="4"
            fill="#2C3B4A"
            fill-opacity="0.9"
          />
          <g clip-path="url(#clip0_12_6)">
            <path
              d="M359.538 26.858L345.788 19.2955C345.585 19.1838 345.357 19.1252 345.125 19.1252C344.893 19.1252 344.665 19.1838 344.462 19.2955L330.712 26.858C330.497 26.9767 330.317 27.1511 330.192 27.3629C330.066 27.5748 330 27.8164 330 28.0625C330 28.3086 330.066 28.5502 330.192 28.7621C330.317 28.9739 330.497 29.1483 330.712 29.267L343.75 36.4376V51.1763L339.575 48.88L338.25 51.2876L344.462 54.7045C344.665 54.8164 344.893 54.8752 345.125 54.8752C345.357 54.8752 345.585 54.8164 345.788 54.7045L359.538 47.142C359.753 47.0234 359.933 46.849 360.059 46.6371C360.184 46.4253 360.25 46.1836 360.25 45.9375V28.0625C360.25 27.8164 360.184 27.5747 360.059 27.3629C359.933 27.151 359.753 26.9766 359.538 26.858ZM345.125 22.0703L356.022 28.0625L345.125 34.0548L334.228 28.0625L345.125 22.0703ZM357.5 45.1249L346.5 51.1749V36.4363L357.5 30.3863V45.1249Z"
              fill="white"
              fill-opacity="0.9"
            />
            <path
              d="M332.75 37H321.75V34.25H332.75V37ZM335.5 48H324.5V45.25H335.5V48ZM338.25 42.5H327.25V39.75H338.25V42.5Z"
              fill="white"
              fill-opacity="0.9"
            />
          </g>
          <path
            d="M23.32 50C23.02 50 22.786 49.916 22.618 49.748C22.45 49.58 22.366 49.346 22.366 49.046V27.734C22.366 27.434 22.45 27.2 22.618 27.032C22.786 26.864 23.02 26.78 23.32 26.78C23.608 26.78 23.836 26.864 24.004 27.032C24.172 27.2 24.256 27.434 24.256 27.734V49.046C24.256 49.346 24.172 49.58 24.004 49.748C23.836 49.916 23.608 50 23.32 50ZM31.9333 50C31.2973 50 30.9793 49.682 30.9793 49.046V33.926C30.9793 33.302 31.2973 32.99 31.9333 32.99C32.5573 32.99 32.8693 33.302 32.8693 33.926V35.654C34.0093 33.878 36.0733 32.99 39.0613 32.99H40.0693C42.3133 32.99 43.9513 33.512 44.9833 34.556C46.0273 35.588 46.5493 37.226 46.5493 39.47V49.046C46.5493 49.682 46.2373 50 45.6133 50C44.9773 50 44.6593 49.682 44.6593 49.046V39.47C44.6593 37.754 44.3173 36.56 43.6333 35.888C42.9613 35.216 41.7733 34.88 40.0693 34.88H39.0613C37.2013 34.88 35.7373 35.174 34.6693 35.762C33.6013 36.35 33.0013 37.268 32.8693 38.516V49.046C32.8693 49.682 32.5573 50 31.9333 50ZM59.1344 49.28C59.0024 49.568 58.8404 49.76 58.6484 49.856C58.4564 49.952 58.2344 50 57.9824 50C57.4544 50 57.0824 49.754 56.8664 49.262L50.1884 34.304C49.9364 33.716 50.1104 33.308 50.7104 33.08C51.2744 32.84 51.6824 33.008 51.9344 33.584L58.5944 48.488H57.4424L64.5344 33.566C64.6664 33.29 64.8404 33.11 65.0564 33.026C65.2724 32.942 65.5184 32.96 65.7944 33.08C66.3824 33.344 66.5444 33.764 66.2804 34.34L59.1344 49.28ZM71.3364 42.224V43.538C71.3364 45.23 71.6724 46.418 72.3444 47.102C73.0284 47.774 74.2284 48.11 75.9444 48.11H78.8964C80.4084 48.11 81.5064 47.918 82.1904 47.534C82.8864 47.138 83.3004 46.46 83.4324 45.5C83.4804 45.2 83.5764 44.972 83.7204 44.816C83.8764 44.66 84.1104 44.582 84.4224 44.582C84.7344 44.582 84.9684 44.672 85.1244 44.852C85.2924 45.02 85.3584 45.26 85.3224 45.572C85.1664 47.084 84.5604 48.2 83.5044 48.92C82.4484 49.64 80.9124 50 78.8964 50H75.9444C73.7004 50 72.0564 49.484 71.0124 48.452C69.9684 47.408 69.4464 45.77 69.4464 43.538V39.47C69.4464 37.202 69.9684 35.552 71.0124 34.52C72.0564 33.476 73.7004 32.966 75.9444 32.99H78.8964C81.1404 32.99 82.7784 33.512 83.8104 34.556C84.8544 35.588 85.3764 37.226 85.3764 39.47V41.27C85.3764 41.906 85.0644 42.224 84.4404 42.224H71.3364ZM75.9444 34.88C74.2284 34.856 73.0284 35.186 72.3444 35.87C71.6724 36.542 71.3364 37.742 71.3364 39.47V40.334H83.4864V39.47C83.4864 37.754 83.1504 36.56 82.4784 35.888C81.8064 35.216 80.6124 34.88 78.8964 34.88H75.9444ZM92.5778 50C91.9418 50 91.6238 49.682 91.6238 49.046V33.926C91.6238 33.302 91.9418 32.99 92.5778 32.99C93.2018 32.99 93.5138 33.302 93.5138 33.926V35.654C94.6538 33.878 96.7178 32.99 99.7058 32.99H100.714C102.958 32.99 104.596 33.512 105.628 34.556C106.672 35.588 107.194 37.226 107.194 39.47V49.046C107.194 49.682 106.882 50 106.258 50C105.622 50 105.304 49.682 105.304 49.046V39.47C105.304 37.754 104.962 36.56 104.278 35.888C103.606 35.216 102.418 34.88 100.714 34.88H99.7058C97.8458 34.88 96.3818 35.174 95.3138 35.762C94.2458 36.35 93.6458 37.268 93.5138 38.516V49.046C93.5138 49.682 93.2018 50 92.5778 50ZM120.544 50C118.336 50 116.722 49.49 115.702 48.47C114.682 47.45 114.172 45.842 114.172 43.646V34.88H112.03C111.394 34.88 111.076 34.562 111.076 33.926C111.076 33.302 111.394 32.99 112.03 32.99H114.172V29.12C114.172 28.484 114.484 28.166 115.108 28.166C115.744 28.166 116.062 28.484 116.062 29.12V32.99H120.58C121.204 32.99 121.516 33.302 121.516 33.926C121.516 34.562 121.204 34.88 120.58 34.88H116.062V43.646C116.062 45.326 116.386 46.49 117.034 47.138C117.694 47.786 118.864 48.11 120.544 48.11C120.892 48.11 121.138 48.188 121.282 48.344C121.438 48.5 121.516 48.734 121.516 49.046C121.516 49.682 121.192 50 120.544 50ZM131.069 50C128.825 50 127.181 49.484 126.137 48.452C125.093 47.408 124.571 45.77 124.571 43.538V39.47C124.571 37.202 125.093 35.552 126.137 34.52C127.181 33.476 128.825 32.966 131.069 32.99H134.021C136.265 32.99 137.903 33.512 138.935 34.556C139.979 35.588 140.501 37.226 140.501 39.47V43.502C140.501 45.746 139.979 47.39 138.935 48.434C137.903 49.478 136.265 50 134.021 50H131.069ZM126.461 43.538C126.461 45.23 126.797 46.418 127.469 47.102C128.153 47.774 129.353 48.11 131.069 48.11H134.021C135.737 48.11 136.931 47.774 137.603 47.102C138.275 46.418 138.611 45.218 138.611 43.502V39.47C138.611 37.754 138.275 36.56 137.603 35.888C136.931 35.216 135.737 34.88 134.021 34.88H131.069C129.917 34.868 129.005 35.006 128.333 35.294C127.661 35.582 127.181 36.062 126.893 36.734C126.605 37.406 126.461 38.318 126.461 39.47V43.538ZM147.703 50C147.067 50 146.749 49.682 146.749 49.046V33.926C146.749 33.302 147.067 32.99 147.703 32.99C148.327 32.99 148.639 33.302 148.639 33.926V36.698C149.263 35.498 150.163 34.58 151.339 33.944C152.527 33.308 153.931 32.99 155.551 32.99C156.187 32.99 156.505 33.302 156.505 33.926C156.505 34.562 156.187 34.88 155.551 34.88C153.415 34.88 151.759 35.366 150.583 36.338C149.407 37.298 148.759 38.672 148.639 40.46V49.046C148.639 49.682 148.327 50 147.703 50ZM164.603 57.2C163.031 57.2 161.867 56.822 161.111 56.066C160.367 55.31 159.995 54.134 159.995 52.538C159.995 51.914 160.307 51.602 160.931 51.602C161.567 51.602 161.885 51.914 161.885 52.538C161.885 53.618 162.077 54.35 162.461 54.734C162.845 55.118 163.559 55.31 164.603 55.31H170.831C171.887 55.31 172.607 55.118 172.991 54.734C173.375 54.35 173.567 53.618 173.567 52.538V47.588C172.883 48.488 172.025 49.118 170.993 49.478C169.961 49.838 168.755 50.018 167.375 50.018H166.367C164.159 50.018 162.545 49.508 161.525 48.488C160.505 47.468 159.995 45.866 159.995 43.682V33.908C159.995 33.272 160.307 32.954 160.931 32.954C161.567 32.954 161.885 33.272 161.885 33.908V43.682C161.885 45.35 162.209 46.508 162.857 47.156C163.517 47.804 164.687 48.128 166.367 48.128H167.375C169.475 48.128 171.029 47.762 172.037 47.03C173.057 46.286 173.567 45.17 173.567 43.682V33.908C173.567 33.272 173.879 32.954 174.503 32.954C175.139 32.954 175.457 33.272 175.457 33.908V52.538C175.457 54.134 175.079 55.31 174.323 56.066C173.579 56.822 172.415 57.2 170.831 57.2H164.603ZM198.241 50C195.637 50 193.735 49.4 192.535 48.2C191.335 47 190.735 45.098 190.735 42.494V34.304C190.735 31.676 191.329 29.768 192.517 28.58C193.717 27.392 195.613 26.798 198.205 26.798H202.561C204.769 26.798 206.413 27.26 207.493 28.184C208.573 29.096 209.167 30.566 209.275 32.594C209.311 32.918 209.245 33.164 209.077 33.332C208.921 33.5 208.687 33.584 208.375 33.584C207.775 33.584 207.445 33.266 207.385 32.63C207.301 31.142 206.893 30.116 206.161 29.552C205.429 28.976 204.229 28.688 202.561 28.688H198.205C196.825 28.688 195.727 28.868 194.911 29.228C194.095 29.576 193.507 30.164 193.147 30.992C192.799 31.808 192.625 32.912 192.625 34.304V42.494C192.625 43.886 192.805 44.99 193.165 45.806C193.525 46.622 194.113 47.21 194.929 47.57C195.745 47.93 196.849 48.11 198.241 48.11H202.561C204.229 48.11 205.429 47.828 206.161 47.264C206.893 46.688 207.301 45.656 207.385 44.168C207.445 43.532 207.775 43.214 208.375 43.214C208.687 43.214 208.921 43.304 209.077 43.484C209.245 43.652 209.311 43.892 209.275 44.204C209.167 46.232 208.573 47.708 207.493 48.632C206.413 49.544 204.769 50 202.561 50H198.241ZM219.733 50C217.489 50 215.845 49.484 214.801 48.452C213.757 47.408 213.235 45.77 213.235 43.538V39.47C213.235 37.202 213.757 35.552 214.801 34.52C215.845 33.476 217.489 32.966 219.733 32.99H222.685C224.929 32.99 226.567 33.512 227.599 34.556C228.643 35.588 229.165 37.226 229.165 39.47V43.502C229.165 45.746 228.643 47.39 227.599 48.434C226.567 49.478 224.929 50 222.685 50H219.733ZM215.125 43.538C215.125 45.23 215.461 46.418 216.133 47.102C216.817 47.774 218.017 48.11 219.733 48.11H222.685C224.401 48.11 225.595 47.774 226.267 47.102C226.939 46.418 227.275 45.218 227.275 43.502V39.47C227.275 37.754 226.939 36.56 226.267 35.888C225.595 35.216 224.401 34.88 222.685 34.88H219.733C218.581 34.868 217.669 35.006 216.997 35.294C216.325 35.582 215.845 36.062 215.557 36.734C215.269 37.406 215.125 38.318 215.125 39.47V43.538ZM236.367 50C235.731 50 235.413 49.682 235.413 49.046V33.926C235.413 33.302 235.731 32.99 236.367 32.99C236.991 32.99 237.303 33.302 237.303 33.926V35.654C238.443 33.878 240.507 32.99 243.495 32.99H244.503C246.747 32.99 248.385 33.512 249.417 34.556C250.461 35.588 250.983 37.226 250.983 39.47V49.046C250.983 49.682 250.671 50 250.047 50C249.411 50 249.093 49.682 249.093 49.046V39.47C249.093 37.754 248.751 36.56 248.067 35.888C247.395 35.216 246.207 34.88 244.503 34.88H243.495C241.635 34.88 240.171 35.174 239.103 35.762C238.035 36.35 237.435 37.268 237.303 38.516V49.046C237.303 49.682 236.991 50 236.367 50ZM264.334 50C262.126 50 260.512 49.49 259.492 48.47C258.472 47.45 257.962 45.842 257.962 43.646V34.88H255.82C255.184 34.88 254.866 34.562 254.866 33.926C254.866 33.302 255.184 32.99 255.82 32.99H257.962V29.12C257.962 28.484 258.274 28.166 258.898 28.166C259.534 28.166 259.852 28.484 259.852 29.12V32.99H264.37C264.994 32.99 265.306 33.302 265.306 33.926C265.306 34.562 264.994 34.88 264.37 34.88H259.852V43.646C259.852 45.326 260.176 46.49 260.824 47.138C261.484 47.786 262.654 48.11 264.334 48.11C264.682 48.11 264.928 48.188 265.072 48.344C265.228 48.5 265.306 48.734 265.306 49.046C265.306 49.682 264.982 50 264.334 50ZM271.242 50C270.606 50 270.288 49.682 270.288 49.046V33.926C270.288 33.302 270.606 32.99 271.242 32.99C271.866 32.99 272.178 33.302 272.178 33.926V36.698C272.802 35.498 273.702 34.58 274.878 33.944C276.066 33.308 277.47 32.99 279.09 32.99C279.726 32.99 280.044 33.302 280.044 33.926C280.044 34.562 279.726 34.88 279.09 34.88C276.954 34.88 275.298 35.366 274.122 36.338C272.946 37.298 272.298 38.672 272.178 40.46V49.046C272.178 49.682 271.866 50 271.242 50ZM289.167 50C286.923 50 285.279 49.484 284.235 48.452C283.191 47.408 282.669 45.77 282.669 43.538V39.47C282.669 37.202 283.191 35.552 284.235 34.52C285.279 33.476 286.923 32.966 289.167 32.99H292.119C294.363 32.99 296.001 33.512 297.033 34.556C298.077 35.588 298.599 37.226 298.599 39.47V43.502C298.599 45.746 298.077 47.39 297.033 48.434C296.001 49.478 294.363 50 292.119 50H289.167ZM284.559 43.538C284.559 45.23 284.895 46.418 285.567 47.102C286.251 47.774 287.451 48.11 289.167 48.11H292.119C293.835 48.11 295.029 47.774 295.701 47.102C296.373 46.418 296.709 45.218 296.709 43.502V39.47C296.709 37.754 296.373 36.56 295.701 35.888C295.029 35.216 293.835 34.88 292.119 34.88H289.167C288.015 34.868 287.103 35.006 286.431 35.294C285.759 35.582 285.279 36.062 284.991 36.734C284.703 37.406 284.559 38.318 284.559 39.47V43.538ZM309.796 50C308.092 50 306.838 49.604 306.034 48.812C305.242 48.02 304.846 46.778 304.846 45.086V25.97C304.846 25.346 305.164 25.034 305.8 25.034C306.424 25.034 306.736 25.346 306.736 25.97V45.086C306.736 46.25 306.952 47.048 307.384 47.48C307.816 47.9 308.614 48.11 309.778 48.11C310.426 48.11 310.75 48.422 310.75 49.046C310.762 49.682 310.444 50 309.796 50Z"
            fill="white"
            fill-opacity="0.9"
          />
          <defs>
            <clipPath id="clip0_12_6">
              <rect
                width="44"
                height="44"
                fill="white"
                transform="translate(319 15)"
              />
            </clipPath>
          </defs>
        </svg>

        {/* <CIcon className="sidebar-brand-full" icon={logoNegative} height={35} />
        <CIcon className="sidebar-brand-narrow" icon={sygnet} height={35} /> */}
      </CSidebarBrand>
      <CSidebarNav>
        <SimpleBar>
          <AppSidebarNav items={navigation_new} />
        </SimpleBar>
      </CSidebarNav>
      <CSidebarToggler
        className="d-none d-lg-flex"
        onClick={() =>
          dispatch({ type: "set", sidebarUnfoldable: !unfoldable })
        }
      />
    </CSidebar>
  );
};

export default React.memo(AppSidebar);
